<div class="container">
	<div class="row">
		<div class="col-xl-2">
			<div class="row">
				<div class="btn-group-vertical btn-group-toggle" data-toggle="buttons">
					<label class="btn btn-primary disabled">Running Assignments</label>
					<label class="btn btn-primary" *ngFor="let assignment of assignments" (click)="assignmentSelect(assignment)">
						<input type="radio" name="assignments" id={{assignment.assignment_id}} autocomplete="off"  value={{assignment.ID}}>{{assignment.NAME}}
					</label>
				</div>
			</div>
			<div class="row">
				<div class="btn-group-vertical btn-group">
					<button class="btn btn-info disabled">Lessons yet to be assigned</button>
					<button *ngFor="let lesson of potentialAssignments" type="button" class="btn btn-info" (click)="lessonSelect(lesson)" data-toggle="modal" data-target="#newAssignmentModal">
						{{lesson.NAME}}
					</button>
				</div>
			</div>
			
			
		</div>
		<div class="col-xl-10">
			<div class="btn-group btn-group-toggle" data-toggle="buttons">
				<label class="btn btn-primary" *ngFor="let group of groups" (click)="groupSelect(group)">
					<input type="radio" name="groups" id={{group.ID}} autocomplete="off"  value={{group.ID}}>{{group.NAME}}
				</label>
				<button type="button" class="btn btn-info" (click)="addGroup()">Add Group</button>
			</div>
			<table class="table table-hover">
				<thead>
					<th scope="col">First Name</th>
					<th scope="col">Last Name</th>
					<th scope="col">Email</th>
					<div *ngIf="selectedAssignment !== undefined">
					<th scope="col" *ngIf="selectedAssignment.assignment_id > 0">Status</th>
					</div>
				</thead>
				<tr *ngFor="let employee of employees" [class.table-success]="employee.IS_COMPLETE !== null ? employee.IS_COMPLETE.data[0] === 1 : false">
					<td>{{employee.FIRST_NAME}}</td>
					<td>{{employee.LAST_NAME}}</td>
					<td>{{employee.EMAIL}}</td>
					<div *ngIf="selectedAssignment !== undefined && employee.IS_COMPLETE !== null">
					<td *ngIf="selectedAssignment.assignment_id > 0" >{{employee.IS_COMPLETE.data[0]}}</td>
					</div>
				</tr>
			</table>
			<!-- TODO - implement email buttons --> 
		</div>
	</div>
	<br />
	<div class="row"><button class="btn btn-info" (click)="emailGroup()">Email all in this group</button></div>
	<div class="row"><button class="btn btn-danger" (click)="emailGroupIncomplete()">Email all incomplete in this group</button></div>
	<div class="row"><button class="btn btn-danger" (click)="emailGroupLate()">Email all late in this group</button></div>
	<br />
	<div class="row">
		<ul class="nav nav-tabs">
				<li class="nav-item active">
				<a class="nav-link active" data-toggle="tab" href="#X">X</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" data-toggle="tab" href="#new-book">New book</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" data-toggle="tab" href="#new-lesson">New lesson</a>
				</li>
			</ul>
	</div>
	<div class="row">
	<div id="myTabContent" class="tab-content">
		<div class="tab-pane fade show active" id="X">
		</div>
	  <div class="tab-pane fade" id="new-book">
	  <form>
		<fieldset>
		<div class="form-group">
		  <label for="bookTitleInput">Book Title</label>
		  <input type="text" class="form-control" id="bookTitleInput" aria-describedby="bookTitleHelp" placeholder="Enter title">
		  <small id="bookTitleHelp" class="form-text text-muted">Used to select book on new lesson screen</small>
		</div>
		<div class="form-group">
		  <label for="bookFile">Upload book PDF</label>
		  <input type="file" class="form-control-file" id="bookFile" aria-describedby="fileHelp">
		  <small id="fileHelp" class="form-text text-muted">Maximum filesize is 30 MB; Must be PDF</small>
		</div>
		</fieldset>
		</form>
	  </div>
	  <div class="tab-pane fade" id="new-lesson">
		<form>
		<fieldset>
		<div class="form-group">
		  <label for="selectBook">Select Book</label>
		  <select class="form-control" id="selectBook">
			<option>Book 1</option>
			<option>Book 2</option>
			<option>Book 3</option>
			<option>Book 4</option>
			<option>Book 5</option>
		  </select>
		</div>
		<div class="form-group">
		  <label for="lessonTitleInput">Lesson Title</label>
		  <input type="text" class="form-control" id="lessonTitleInput" aria-describedby="lessonTitleHelp" placeholder="Enter title">
		  <small id="lessonTitleHelp" class="form-text text-muted">Used to select lesson on new assignment screen</small>
		</div>
		<div class="form-group">
		  <label for="lessonStart">Lesson Page Start</label>
		  <input type="number" class="form-control" id="lessonStart" aria-describedby="lessonStartHelp" placeholder="Enter title">
		  <small id="lessonStartHelp" class="form-text text-muted"></small>
		</div>
		<div class="form-group">
		  <label for="lessonEnd">Lesson Page End</label>
		  <input type="number" class="form-control" id="lessonEnd" aria-describedby="lessonEndHelp" placeholder="Enter title">
		  <small id="lessonEndHelp" class="form-text text-muted"></small>
		</div>
		</fieldset>
		</form>
		<pdf-viewer [src]="'http://ec2-54-191-3-208.us-west-2.compute.amazonaws.com:3000/0773d618-d236-442d-92bc-e30ea9b143ed/book_file/kant-first-critique-cambridge.pdf'" [render-text]="false" style="display: block;"></pdf-viewer>
	  </div>
	</div>
	</div>
	<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
	  Launch demo modal
	</button>
	<div class="modal fade" id="newAssignmentModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	  <div class="modal-dialog" role="document">
		<div class="modal-content">
		  <div class="modal-header">
			<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
			  <span aria-hidden="true">&times;</span>
			</button>
		  </div>
		  <div class="modal-body">
			<p *ngIf="selectedLesson !== undefined">{{selectedLesson.NAME}}</p>
		  </div>
		  <div class="modal-footer">
			<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			<button type="button" class="btn btn-primary">Save changes</button>
		  </div>
		</div>
	  </div>
	</div>
</div>